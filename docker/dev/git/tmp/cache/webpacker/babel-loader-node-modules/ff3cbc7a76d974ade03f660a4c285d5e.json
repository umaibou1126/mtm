{"ast":null,"code":"var _name$computed$mounte;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport Modal from \"Modal.vue\";\nimport Detail from \"Detail.vue\";\nimport Edit from \"Edit.vue\";\nimport New from \"New.vue\";\nimport { mapState } from \"vuex\";\nimport Signup from \"Signup.vue\";\nimport Signin from \"Signin.vue\";\nexport default (_name$computed$mounte = {\n  name: \"Index\",\n  computed: mapState([\"signedIn\"]),\n  mounted: function mounted() {\n    this.$store.dispatch(\"doFetchSignedIn\");\n  },\n  components: {\n    Modal: Modal,\n    Detail: Detail,\n    Edit: Edit,\n    New: New\n  },\n  data: function data() {\n    return {\n      menu: [],\n      showModal: false,\n      deleteTarget: -1,\n      errors: \"\"\n    };\n  }\n}, _defineProperty(_name$computed$mounte, \"mounted\", function mounted() {\n  this.updatemenu();\n}), _defineProperty(_name$computed$mounte, \"methods\", {\n  increment: function increment() {\n    this.$store.commit(\"increment\", 1);\n  },\n  setError: function setError(error, text) {\n    this.error = error.response && error.response.data && error.response.data.error || text;\n  },\n  signOut: function signOut() {\n    var _this = this;\n\n    this.$http.secured[\"delete\"](\"/api/v1/signin\").then(function (response) {\n      delete localStorage.csrf;\n      delete localStorage.signedIn;\n    })[\"catch\"](function (error) {\n      return _this.setError(error, \"Cannot sign out\");\n    });\n  },\n  deletemenu: function deletemenu() {\n    var _this2 = this;\n\n    if (this.deleteTarget <= 0) {\n      console.warn(\"deleteTarget should be grater than zero.\");\n      return;\n    }\n\n    axios[\"delete\"](\"/api/v1/menu/\".concat(this.deleteTarget)).then(function (response) {\n      _this2.deleteTarget = -1;\n\n      _this2.updatemenu();\n    })[\"catch\"](function (error) {\n      console.error(error);\n\n      if (error.response.data && error.response.data.errors) {\n        _this2.errors = error.response.data.errors;\n      }\n    });\n  },\n  updatemenu: function updatemenu() {\n    var _this3 = this;\n\n    axios.get(\"/api/v1/menu.json\").then(function (response) {\n      return _this3.menu = response.data;\n    });\n  }\n}), _name$computed$mounte);","map":{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,WAAA;AACA,OAAA,MAAA,MAAA,YAAA;AACA,OAAA,IAAA,MAAA,UAAA;AACA,OAAA,GAAA,MAAA,SAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,YAAA;AACA,OAAA,MAAA,MAAA,YAAA;AAEA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,QAAA,EAAA,QAAA,CAAA,CAAA,UAAA,CAAA,CAFA;AAGA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,iBAAA;AACA,GALA;AAOA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,IAAA,EAAA,IAHA;AAIA,IAAA,GAAA,EAAA;AAJA,GAPA;AAaA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,CAAA,CAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA;AApBA,wEAsBA;AACA,OAAA,UAAA;AACA,CAxBA,qDAyBA;AACA,EAAA,SADA,uBACA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,CAAA;AACA,GAHA;AAIA,EAAA,QAJA,oBAIA,KAJA,EAIA,IAJA,EAIA;AACA,SAAA,KAAA,GACA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,IACA,IAFA;AAGA,GARA;AASA,EAAA,OATA,qBASA;AAAA;;AACA,SAAA,KAAA,CAAA,OAAA,6BAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,aAAA,YAAA,CAAA,IAAA;AACA,aAAA,YAAA,CAAA,QAAA;AACA,KALA,WAMA,UAAA,KAAA;AAAA,aAAA,KAAA,CAAA,QAAA,CAAA,KAAA,EAAA,iBAAA,CAAA;AAAA,KANA;AAOA,GAjBA;AAmBA,EAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,QAAA,KAAA,YAAA,IAAA,CAAA,EAAA;AACA,MAAA,OAAA,CAAA,IAAA,CAAA,0CAAA;AACA;AACA;;AACA,IAAA,KAAA,UAAA,wBACA,KAAA,YADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,MAAA,MAAA,CAAA,YAAA,GAAA,CAAA,CAAA;;AACA,MAAA,MAAA,CAAA,UAAA;AACA,KALA,WAMA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,KAXA;AAYA,GApCA;AAqCA,EAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,mBADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,aAAA,MAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,KAFA;AAGA;AAzCA,CAzBA","sourcesContent":["<template>\n  <div>\n    <header>\n      <nav>\n        <ul>\n          <li>\n            <a>\n              <router-link to=\"/\" class=\"link\">HOME</router-link>\n            </a>\n          </li>\n          <li>\n            <a>\n              <router-link to=\"/menu/new\" class=\"link\">New</router-link>\n            </a>\n          </li>\n          <li>\n            <a>\n              <router-link to=\"/signin\" v-if=\"signedIn\" @click=\"signOut\">Signout</router-link>\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </header>\n\n    <div v-if=\"errors.length !=0\">\n      <ul v-for=\"e in errors\" :key=\"e\">\n        <li>\n          <font color=\"red\">{{ e }}</font>\n        </li>\n      </ul>\n    </div>\n    <table>\n      <tbody>\n        <tr>\n          <th>ID</th>\n          <th>Discipline</th>\n          <th>Rep</th>\n          <th>Set</th>\n          <th>Weight</th>\n          <th>Calorie</th>\n          <th>Delete</th>\n        </tr>\n        <tr v-for=\"e in menu\" :key=\"e.id\">\n          <td>\n            <router-link :to=\"{ name: 'Detail', params: { id: e.id } }\">{{ e.id }}</router-link>\n          </td>\n          <td>{{ e.discipline }}</td>\n          <td>{{ e.rep }}</td>\n          <td>{{ e.set }}</td>\n          <td>{{ e.weight }}</td>\n          <td>{{ e.calorie }}</td>\n          <td>\n            <button @click=\"deleteTarget = e.id; showModal = true\">削除</button>\n          </td>\n          <!-- <button v-on:click=\"increment\">LGTM</button>\n          </td>-->\n          <!-- <td>\n            <router-link :to=\"{ name: 'Edit', params: { id: e.id } }\">Edit</router-link>\n          </td>\n          <td>\n            <router-link :to=\"{ name: 'New', params: { id: e.id } }\">New</router-link>\n          </td>-->\n        </tr>\n      </tbody>\n    </table>\n    <modal v-if=\"showModal\" @cancel=\"showModal = false\" @ok=\"deletemenu(); showModal = false;\">\n      <div slot=\"body\">削除してよろしいですか？</div>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Modal from \"Modal.vue\";\nimport Detail from \"Detail.vue\";\nimport Edit from \"Edit.vue\";\nimport New from \"New.vue\";\nimport { mapState } from \"vuex\";\nimport Signup from \"Signup.vue\";\nimport Signin from \"Signin.vue\";\n\nexport default {\n  name: \"Index\",\n  computed: mapState([\"signedIn\"]),\n  mounted: function() {\n    this.$store.dispatch(\"doFetchSignedIn\");\n  },\n\n  components: {\n    Modal,\n    Detail,\n    Edit,\n    New\n  },\n  data: function() {\n    return {\n      menu: [],\n      showModal: false,\n      deleteTarget: -1,\n      errors: \"\"\n    };\n  },\n\n  mounted() {\n    this.updatemenu();\n  },\n  methods: {\n    increment() {\n      this.$store.commit(\"increment\", 1);\n    },\n    setError(error, text) {\n      this.error =\n        (error.response && error.response.data && error.response.data.error) ||\n        text;\n    },\n    signOut() {\n      this.$http.secured\n        .delete(`/api/v1/signin`)\n        .then(response => {\n          delete localStorage.csrf;\n          delete localStorage.signedIn;\n        })\n        .catch(error => this.setError(error, \"Cannot sign out\"));\n    },\n\n    deletemenu: function() {\n      if (this.deleteTarget <= 0) {\n        console.warn(\"deleteTarget should be grater than zero.\");\n        return;\n      }\n      axios\n        .delete(`/api/v1/menu/${this.deleteTarget}`)\n        .then(response => {\n          this.deleteTarget = -1;\n          this.updatemenu();\n        })\n        .catch(error => {\n          console.error(error);\n          if (error.response.data && error.response.data.errors) {\n            this.errors = error.response.data.errors;\n          }\n        });\n    },\n    updatemenu: function() {\n      axios\n        .get(\"/api/v1/menu.json\")\n        .then(response => (this.menu = response.data));\n    }\n  }\n};\n</script>\n\n<style scoped>\nnav ul {\n  display: table;\n  width: 100%;\n  text-align: center;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nnav ul li {\n  display: table-cell;\n  min-width: 50px;\n  border-right: 1px solid #ccc;\n  border-bottom: 5px solid #ccc;\n}\n\nnav ul li a {\n  display: block;\n  width: 100%;\n  padding: 10px 0;\n  text-decoration: none;\n  color: #aaa;\n}\nnav ul li a:hover {\n  color: black;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\ntable tr {\n  border-bottom: solid 1px #ccc;\n}\n\ntable tr:nth-child(even) {\n  background: white;\n}\ntable tr:nth-child(odd) {\n  background: #eee;\n}\n\ntable tr:last-child {\n  border-bottom: none;\n}\ntable th {\n  position: relative;\n  text-align: left;\n  width: 5%;\n  background-color: black;\n  /* background-color: #33cc66; */\n  color: white;\n  text-align: center;\n  padding: 10px 0;\n  font-family: \"ＭＳ ゴシック\", sans-serif;\n  font-size: 14px;\n}\n\ntable td {\n  text-align: left;\n  width: 5%;\n  text-align: center;\n  /* background-color: #eeffff; */\n  padding: 10px 0;\n  color: black;\n  /* font-weight: bold; */\n  font-family: \"ＭＳ ゴシック\", sans-serif;\n  font-size: 14px;\n}\n\nbutton {\n  /* -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: 0;\n  border-radius: 0;\n  background: #cd5c5c;\n  color: white;\n  font-size: 16px; */\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #ff3366;\n  background: white; /*色*/\n  border: solid 1px#ddd; /*線色*/\n  border-radius: 4px;\n  /* box-shadow: inset 0 1px 0 #ddd; */\n  text-shadow: 0 1px 0 #fff;\n  font-size: 15px;\n}\n\nbutton:hover {\n  border: solid 1px #03a9f4;\n  box-shadow: none;\n  text-shadow: none;\n}\nbutton:focus {\n  outline: none;\n  /* box-shadow: 0 0 0 4px #cbd6ee; */\n}\n</style>\n\n"],"sourceRoot":"app/javascript"},"metadata":{},"sourceType":"module"}